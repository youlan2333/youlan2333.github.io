#### 标准电信号

标准电信号对应数字量：

±10V <==> ±27648

0~10V <==> 0~27648

0~20ma <==> 0~27648

1~5V <==> 5530~27648

4~20ma <==> 5530~27648

#### 模拟量工程值转换

转换：

模拟量输入处理公式：将标准的电信号进入PLC模拟量输入通道，转换为浮点型的工程量输出
$$
工程量当前值=(\frac{工程量上限-工程量下限}{模拟量上限-模拟量下限})*(模拟量当前值-模拟量下限)+工程量上限
$$
模拟量输出处理公式：将PLC的工程量转换成数字量，经过DA模块，转换为标准的电信号输出
$$
模拟量输出值=(\frac{模拟量上限-模拟量下限}{工程量上限-工程量下限})*(工程量设定值-工程量下限)+模拟量下限
$$

#### 指令

`S_ITR`，模拟量转工程值输入

- IN：模拟量输入
- ISH：模拟值高限
- ISL：模拟值低限
- OSH：实际工程值高限
- OSL：实际工程值低限
- OUT：实际工程值

`S_RTI`，工程值转模拟量输出

- IN：工程值输入
- ISH：实际工程值高限
- ISL：实际工程值低限
- OSH：模拟值高限
- OSL：模拟值低限
- OUT：模拟量输出

#### PID概念

PID控制可以对某个过程变量进行精确控制。只用控制目标与被控对象的实际误差（偏差），就可以产生消除此误差（偏差）的控制策略。在PID控制中，有一个设定值SP（又称给定值），还有一个过程值PV（又称:实际值或反馈值），这两值的差值（SP-PV），称为偏差。将偏差值带入PID运算公式，进行比例（P）、积分（I）、微分（D）运算，从而可以得到一个输出值，用这个输出值控制被控变量，最终达到的目的是:设定值=过程值，即:偏差为零。

#### PID子程序

PIDx_INIT（x：0~11），在程序中必须使用SM0.0调用

针脚：

- PV_I：反馈值

- Setpoint_R：设定值，32位浮点
- Auto_Manual：手动自动控制开关，0手动，1自动
- Manual_Output：手动模式下，指定的输出百分比
- Output_Heat：输出值
- HighAlarm、LowAlarm、ModuleErr：报警
- Error：错误码输出，字节

#### 调节PID

调节时间：响应曲线从零到达并停留在稳态值或误差范围所需要的最小时间。
超调量：又称最大偏差。系统在响应过程中，输出量的最大值超过稳态值的百分数。

- P（比例调节）：放大倍数，将偏差放大后输出。存有余差，调节及时。
- I（积分调节）：累积，将偏差进行累计（求和）后输出不存在余差，调节不及时。
- D（微分调节）：将本次采样得到的偏差减去上次采样得到的偏差，得到的差值进行输出，调节及时。